<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>예약 하기</title>
    <link rel="stylesheet" href="css/reservation/reservation_style.css" />
        <%@ include file="header/header.jsp" %>

    <section>
        <div class="section__main">
            <div></div>
            <div class="section__center">
                <div class="section1__main">
                    <div class="motel__title">${data[0].motelName}</div>
                    <div class="motel__subtitle">${data[0].motelInfo}</div>
                    <div class="motel__datecheck">
                        <div class="check__in">
                            <div class="in_1">체크인</div>
                            <div class="in_2"><input id="checkin_input" type="text" value="2021.01.26(화) 날짜변수1" ></div>
                            <!-- 타임캘린더-->
                            <div>
                                <div class="row in__size">
                                    <div class="col-sm-12">
                                        <div class="form-group nomargin">
                                            <div class="input-group date" id="datetimepicker3"
                                                data-target-input="nearest">
                                                <input type="text" class="form-control datetimepicker-input"
                                                    data-target="#datetimepicker3" placeholder="체크인 시간 선택" />
                                                <div class="input-group-append" data-target="#datetimepicker3"
                                                    data-toggle="datetimepicker">
                                                    <div class="input-group-text"><i class="fa fa-clock-o">선택</i></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- 타임캘린더 끝-->
                        </div>
                        <div class="date__second">→</div>
                        <div class="check__out">
                            <div class="out_1">체크아웃</div>
                            <div class="out_2"><input id="checkout_input" type="text" value="2021.01.26(화) 날짜변수1" ></div>
                            <!-- 타임캘린더-->
                            <div>
                                <div class="row out__size">
                                    <div class="col-sm-12">
                                        <div class="form-group nomargin">
                                            <div class="input-group date" id="datetimepicker4"
                                                data-target-input="nearest">
                                                <input type="text" class="form-control datetimepicker-input"
                                                    data-target="#datetimepicker4" placeholder="체크아웃 시간 선택" />
                                                <div class="input-group-append" data-target="#datetimepicker4"
                                                    data-toggle="datetimepicker">
                                                    <div class="input-group-text"><i class="fa fa-clock-o">선택</i></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- 타임캘린더 끝-->
                        </div>
                    </div>
                </div>
                <div class="reservation__info">
                    <div class="res__title">예약정보</div>
                    <div class="res__usernameInfo">
                        <div class="res__usernametitle">예약자 이름</div>
                        <div class="res__Info__input"><input class="res__input" type="text" value="${sessionScope.session.id}" placeholder="체크인 시 필요합니다"></div>
                    </div>
                    <div class="res__usernameInfo">
                        <div class="res__usernametitle">예약자 번호</div>
                        <div class="res__Info__input"><input class="res__input" type="text" value="${sessionScope.session.phone}" placeholder="예약내용 확인 시 필요합니다"></div>
                    </div>
                    <div class="res__usernameInfo">
                        <div class="res__usernametitle">숙박 종류 선택</div>
                        <div class="res__Info__input">
                              <select name="cars" class="custom-select-sm res__Info__select">
                            <option selected>숙박 종류 선택</option>
                            <option value="volvo">대실</option>
                            <option value="fiat">숙박</option>
                          </select></div>
                    </div>
                    <div class="res__title mt10">가격 정보</div>
                    <div class="res__usernameInfo">
                        <div class="res__usernametitle">대실 금액</div>
                        <div class="res__Info__input"><strong><input style="text-align: end; padding-right:5px" class="res__input" type="text" value="${data[1].roomPrice}" readonly />원</strong></div>
                    </div>
                    <div class="res__usernameInfo">
                        <div class="res__usernametitle">숙박 금액</div>
                        <div class="res__Info__input"><strong><input style="text-align: end; padding-right:5px" class="res__input" type="text" value="${data[1].lodgmentPrice}"  readonly />원</strong></div>
                    </div>
                    <div><button type="button" class="res__btn btn btn-danger btn-block mt10">예약하기</button></div>
                </div>
                <div></div>
            </div>
            <div></div>
        </div>
    </section>
<script>

var checkin = "${data[2][0]}";
var checkout = "${data[2][1]}";
console.log(checkin);
console.log(checkout);


window.onload=function(){
	var checkin = "${data[2][0]}";
	var checkout = "${data[2][1]}";
	
	var checkinSplit = checkin.split('/');
	var inyyyy = checkinSplit[2];
	var inmm = checkinSplit[0];
	var indd = checkinSplit[1];

	var checkoutSplit = checkout.split('/');
	var outyyyy = checkinSplit[2];
	var outmm = checkinSplit[0];
	var outdd = checkinSplit[1];
	
	document.getElementById("checkin_input").value = `${inyyyy}+${inmm}+${indd}`;
	document.getElementById("checkout_input").value = `${outyyyy}+${outmm}+${outdd}`;
    }

</script>

    <script src="javascript/reservation.js">

    
    </script>
</body>

</html>