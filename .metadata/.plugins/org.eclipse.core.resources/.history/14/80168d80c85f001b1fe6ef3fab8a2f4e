package com.jkb.yanolja.web;

import javax.servlet.annotation.WebServlet;

import com.jkb.yanolja.anno.RequestMapping;
import com.jkb.yanolja.domain.user.dto.JoinReqDto;
import com.jkb.yanolja.domain.user.dto.UsernameCheckDto;
import com.jkb.yanolja.service.UserService;

// http://localhost:8080/blog/user
@WebServlet("/user")
public class UserController {
	
UserService userService = new UserService();
JoinReqDto joinReqDto = new JoinReqDto();
	
    public UserController() {
        super();
    }

	@RequestMapping("/join")
	public String join(JoinReqDto dto) {
		System.out.println("조인값" + dto.toString());
		userService.회원가입(dto);		
		return "/board/index.jsp";
	}
	
	@RequestMapping("/login")
	public void login() {
		System.out.println("login() 함수 호출됨");
	}
	
	@RequestMapping("/user")
	public void user() {
		System.out.println("user() 함수 호출됨");
	}
	
	@RequestMapping("/usernameCheck")
	public String usernameCheck(UsernameCheckDto dto) {
		System.out.println("유저컨트롤러"+dto.toString());
		int result = userService.아이디중복체크(dto);
		if(result ==1) {
			System.out.println("ok");
		}else {
			System.out.println("fail");
		}
		
return "a";


	}


}